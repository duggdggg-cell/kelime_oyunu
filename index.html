<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kelime Oyunu</title>
<script src="/socket.io/socket.io.js"></script>
<style>
body { font-family: sans-serif; background: linear-gradient(to right,#6a11cb,#2575fc); margin:0; display:flex; justify-content:center; align-items:center; height:100vh; color:#fff;}
.ekran { display:none; text-align:center; background:rgba(255,255,255,0.95); color:#333; padding:30px; border-radius:15px; box-shadow:0 4px 20px rgba(0,0,0,0.3); width:450px; max-width:90%; position:relative;}
.aktif { display:block; }
input, button { padding:12px; margin:10px 0; width:80%; border-radius:8px; border:1px solid #ccc; font-size:16px; }
button { background:#2575fc; color:white; cursor:pointer; font-weight:bold; }
button:hover { background:#6a11cb; transform:scale(1.05); }

#rol { font-size:24px; font-weight:bold; margin-top:20px; }
#kelime { font-size:28px; color:green; margin-top:15px; font-weight:bold; }
#oyuncular, #oySonucu { margin-top:20px; padding:0; list-style:none; display:flex; flex-wrap:wrap; justify-content:center; }
#oyuncular li, #oySonucu li { background:#2575fc; color:white; padding:8px 12px; margin:5px; border-radius:12px; font-weight:500; transition: transform 0.3s; }
#oyuncular li:hover, #oySonucu li:hover { transform:scale(1.1); }

#baslatBtn {
  position: absolute;
  bottom:-40px; /* Beyaz alanın altına */
  left:50%;
  transform:translateX(-50%);
  padding:10px 40px;
  font-weight:bold;
  background:#2575fc;
  color:white;
  border-radius:8px;
  cursor:pointer;
}
#baslatBtn:hover { background:#6a11cb; transform:scale(1.05); }

#chatPanel {
  position: absolute;
  top:30px;
  right:-250px;
  width:220px;
  height:400px;
  background:rgba(255,255,255,0.95);
  color:#333;
  padding:10px;
  border-radius:12px;
  box-shadow:0 4px 20px rgba(0,0,0,0.3);
  display:flex;
  flex-direction:column;
}
#chatMessages { flex:1; overflow-y:auto; margin-bottom:10px; }
#chatMessages p { margin:5px 0; word-wrap: break-word; }
#chatInput { flex:0; padding:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; }
#chatPanel button { margin-top:5px; padding:6px; font-size:14px; cursor:pointer; border-radius:6px; background:#2575fc; color:white; border:none; }
#chatPanel button:hover { background:#6a11cb; }
</style>
</head>
<body>

<div id="girisEkrani" class="ekran aktif">
  <h2>Kelime Oyunu</h2>
  <input id="isim" placeholder="İsminizi girin">
  <input id="odaKodu" placeholder="Oda kodu girin">
  <button onclick="odaKatıl()">Odaya Katıl</button>
</div>

<div id="oyunEkrani" class="ekran">
  <h2>Rolünüz: <span id="rol"></span></h2>
  <div id="kelime"></div>

  <h3>Oyuncular</h3>
  <ul id="oyuncular"></ul>

  <h3>Oylama</h3>
  <ul id="oySonucu"></ul>
</div>

<button id="baslatBtn" onclick="oyunuBaslat()">Oyunu Başlat</button>

<!-- Chat Panel -->
<div id="chatPanel">
  <h3>Oyun Chat</h3>
  <div id="chatMessages"></div>
  <input id="chatInput" placeholder="Mesaj yazın..." />
  <button onclick="gonder()">Gönder</button>
</div>

<script>
const socket = io();
let odaKodu="", isim="";

function odaKatıl(){
  isim=document.getElementById("isim").value.trim();
  odaKodu=document.getElementById("odaKodu").value.trim();
  if(!isim||!odaKodu){ alert("Lütfen isim ve oda kodu girin!"); return; }
  socket.emit("odaKatıl",{odaKodu, isim});
  document.getElementById("girisEkrani").classList.remove("aktif");
  document.getElementById("oy
